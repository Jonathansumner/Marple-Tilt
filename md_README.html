<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MarpleTilt: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MarpleTilt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">README </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p  align="center"></p>
<p ><img src="https://github.com/Jonathansumner/Marple-Tilt/blob/main/Icons/marple_logo_resized.jpg" alt="Material Bread logo" width="200" class="inline"/> </p><h1 align="center"><a class="el" href="classMarple.html">Marple</a> Tilt: Don't Lose Your Marples</h1>
<p  align="center"></p>
<p ><a href="https://www.instagram.com/marpletilt/"><img src="https://raw.githubusercontent.com/Jonathansumner/Marple-Tilt/main/resources/icons/Instagram.png" alt="" width="64" class="inline"/> </a><a href="https://www.tiktok.com/@marpletilt"><img src="https://raw.githubusercontent.com/Jonathansumner/Marple-Tilt/main/resources/icons/Tiktok.png" alt="" width="64" class="inline"/> </a><a href="https://www.twitter.com/marpletilt"><img src="https://raw.githubusercontent.com/Jonathansumner/Marple-Tilt/main/resources/icons/Twitter.png" alt="" width="64" class="inline"/> </a> </p>
<p >Welcome to <a class="el" href="classMarple.html">Marple</a> Tilt, the revoluntionary new take on the popular childrens game Labrinth. This repository contains the code for both the Map Maker App and the Game System, both of which have been developed using C++. The Game is designed to run on a Raspberry Pi system and utilises an AdaFruit 64x64 Matrix and an MPU6050 Gyroscope.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Documention</h2>
<p >Documentation of repo structure can be found at <a href="https://jonathansumner.github.io/Marple-Tilt/">https://jonathansumner.github.io/Marple-Tilt/</a></p>
<h2><a class="anchor" id="autotoc_md15"></a>
Downloading the Source Code</h2>
<p >The project is stored and maintained using GitHub so the first task is to download the source code. This can be done in two ways, by downloading the zip file or by cloning the repository onto your machine. To clone the repository, use the command:</p>
<div class="fragment"><div class="line">git clone https://github.com/Jonathansumner/Marple-Tilt --recursive</div>
</div><!-- fragment --><p >The "--recursive" flag ensures that the project's submodules are downloaded as they are required to build the app.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Building the Map Maker App</h2>
<p >The Map Creator Application is built using CMake, C++ and Qt5. Handily both C++ and CMake come packaged with an install of Qt5 so simply go to: <a href="https://www.qt.io/download">https://www.qt.io/download</a> and select "Go Open Source" and download the online installer. Note: you will need to make an account with Qt during this process.</p>
<h3><a class="anchor" id="autotoc_md17"></a>
Linux Install</h3>
<p >While the Qt package is downloading, run the following commands in the terminal to ensure all required packages for the install are present.</p>
<div class="fragment"><div class="line">sudo apt-get update &amp;&amp; sudo apt-get upgrade</div>
<div class="line">sudo apt-get -y install build-essential openssl libssl-dev libssl1.0 libgl1-mesa-dev libqt5x11extras5</div>
</div><!-- fragment --><p >Once the installer is downloaded you must first make the installer executable. Navigate to the directory it has downloaded to and run the following commands, replacing "qt*.run" with the exact name of the downloaded installer.</p>
<div class="fragment"><div class="line">chmod +x qt*.run</div>
<div class="line">./qt*.run</div>
</div><!-- fragment --><p >The installer should now open and ask for login credentials, after entering these you will be presented with a range of different Qt versions. Make sure to select at least version 5.15.1 and also make sure that CMake is ticked under the Tools tab. Now proceed to the download stage.</p>
<p >Once everything is downloaded you can now begin editing the project in either Qt Creator or in an IDE of your choice in conjunction with the command line.</p>
<h4><a class="anchor" id="autotoc_md18"></a>
Qt Creator</h4>
<p >To open the project in Qt Creator simply navigate to the source code and open the "CMakeLists.txt.user" file to load the configuration. A warning will likely appear here and you be asked to reconfigure the project. Here select "Qt 5.15.1 GCC 64-bit" as the Kit. You are now ready to build and run the code!</p>
<h4><a class="anchor" id="autotoc_md19"></a>
Custom</h4>
<p >To work on the project in another IDE you must build the project in the command line and this is very straighforward. In the command line navigate to the directory containing the <a class="el" href="classMarple.html">Marple</a> Tilt files. Here, run the command:</p>
<div class="fragment"><div class="line">\path\to\Tools\CMake\bin\cmake -DCMAKE_PREFIX_PATH=&quot;\path\to\5.15.1\gcc_64&quot; -S . -B out</div>
<div class="line">cd out</div>
<div class="line">make</div>
</div><!-- fragment --><p >cmake can be found in the Tools folder of the Qt installation. The CMAKE_PREFIX_PATH should be set to the location of the Qt installation within the Qt folder.</p>
<h4><a class="anchor" id="autotoc_md20"></a>
Running the Executable</h4>
<p >In linux the executable can be run from the command line with the line:</p>
<div class="fragment"><div class="line">./MapCreator</div>
</div><!-- fragment --><p >However if you want to run the application on a device that does not have Qt installed you will need to use a tool such as "linuxdeployqt".</p>
<h3><a class="anchor" id="autotoc_md21"></a>
Windows Install</h3>
<p >The install process for a <a class="el" href="classWindow.html">Window</a> machine is very straight forward. Simply download the installer and as mentioned, make sure at least version 5.15.1 is selected and also that CMake is selected under the tools tab. You must also make sure that Ninja and at least MinGW 8.1.0 (64-bit) install ticked.</p>
<p >Once everything is installed you can begin editing the project via two methods, using the Qt Creator App (which comes with Qt) or in an IDE of your choice with the command line for building.</p>
<h4><a class="anchor" id="autotoc_md22"></a>
Qt Creator</h4>
<p >To open the project in Qt Creator, click "Open File or Project" and select the "CMakeLists.txt.user" file. This will load up the project however, you will need to check the build configuration and ensure that the paths to all the required files are set correctly.</p>
<p >If you are having trouble with this step, open a new project and select the type Qt Console Application with Cmake selected as the build system and MinGW 64-bit selected as the Kit. Then if you go into the build configuration it will show you the correct paths which can be copied over to the <a class="el" href="classMarple.html">Marple</a> Tilt project you have opened. Once this is complete you should be able to build and run the project in Qt Creator.</p>
<h4><a class="anchor" id="autotoc_md23"></a>
Custom</h4>
<p >To work on the project in another IDE you must build the project in the command line and this is relatively straighforward. First you must open up a MinGW command line, type "Qt 5.15.1 (MinGW 8.1.0 (64-bit))" into the windows search bar to bring up the command line (replace 8.1.0 with any newer version of MinGW).</p>
<p >In this command line navigate to the directory containing the <a class="el" href="classMarple.html">Marple</a> Tilt files. Here, run the command:</p>
<div class="fragment"><div class="line">\path\to\Tools\CMake_64\bin\cmake.exe -DCMAKE_PREFIX_PATH=&quot;\path\to\5.15.1\mingw81_64&quot; -G&quot;MinGW Makefiles&quot; -S . -B out</div>
<div class="line">cd out</div>
<div class="line">\path\to\Tools\mingw810_64\bin\mingw32-make.exe</div>
</div><!-- fragment --><p >"cmake.exe" and "mingw32-make.exe" can be found in the Tools folder of the Qt installation. The CMAKE_PREFIX_PATH should be set to the location of the Qt installation within the Qt folder.</p>
<h4><a class="anchor" id="autotoc_md24"></a>
Running the Executable</h4>
<p >The generated executable can be found in the folder out. However the command:</p>
<div class="fragment"><div class="line">windeployqt.exe --quick .</div>
</div><!-- fragment --><p >then needed to be run to include the required libraries for Qt. The out folder can now be zipped and placed anywhere and in any machine and it will run regardless of what is installed on that machine (as long as its a windows machine).</p>
<h2><a class="anchor" id="autotoc_md25"></a>
Building the Game System</h2>
<p >The project is built using CMake and multiple helper scripts are provided to get the game up and running. The first script to execute is "setup.sh" which will install all required dependencies and will also build the matrix-api (the api is build using make and not cmake and so is not fully integrated).</p>
<div class="fragment"><div class="line">cd Marple-Tilt/game-runner</div>
<div class="line">sudo ./setup.sh</div>
</div><!-- fragment --><p> The next step is to build the the executable which is done using the build script. This will run cmake to generate the makefile and then will run the makefile to create the executable.</p>
<div class="fragment"><div class="line">sudo ./build.sh</div>
</div><!-- fragment --><p >The code can now be ran using the command:</p>
<div class="fragment"><div class="line">sudo ./out/build/MarpleTilt</div>
</div><!-- fragment --><p >To make changes to the game, simply edit the required files and then run the build script again to generate a new executable.</p>
<p >Note: As the raspberry pi runs a linux based system it is reccomended that you make changes to the Game System on a linux system and therefore no instructions are provided for a Windows setup.</p>
<h3><a class="anchor" id="autotoc_md26"></a>
Wiring</h3>
<p >In order to wire the MPU6050 please follow wiring guide for a typical I2c device, and connect the INT pin to <code>pin 13</code> of the Pi. In order to wire the matrix, please follow the guide on <a href="https://github.com/hzeller/rpi-rgb-led-matrix/blob/master/wiring.md">https://github.com/hzeller/rpi-rgb-led-matrix/blob/master/wiring.md</a></p>
<p >It is possible to set up the raspberry pi to run MarpleTilt on boot up. Instructions on how to achieve this can be found at the following website: <a href="https://www.dexterindustries.com/howto/run-a-program-on-your-raspberry-pi-at-startup/#:~:text=The%20first%20method%20to%20run,local%20file">https://www.dexterindustries.com/howto/run-a-program-on-your-raspberry-pi-at-startup/#:~:text=The%20first%20method%20to%20run,local%20file</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
